---
export interface Props {
  navItems?: Array<{
    href: string;
    label: string;
  }>;
  currentPage?: string;
  showProgressBar?: boolean;
  siteTitle?: string;
  siteDescription?: string;
}

const { 
  navItems = [
    { href: "#about", label: "About" },
    { href: "#skills", label: "Skills" },
    { href: "#work", label: "Work" },
    { href: "#contact", label: "Contact" }
  ],
  currentPage = "/",
  showProgressBar = true,
  siteTitle = "Levan Vekua",
  siteDescription = "Web Designer / Developer"
} = Astro.props;
---

<header id="header" class="header header-sticky" role="banner">
  {showProgressBar && (
    <div class="progress-container">
      <div class="progress-bar"></div>
    </div>
  )}
  <div class="header-inner container">
    <div class="branding">
      <a href="/" class="custom-logo-link" rel="home" aria-current="page" aria-label="go back to homepage">
        <svg class="logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45 44.97">
          <g data-name="Layer 2">
            <path
              d="M17.24 10.55 27.79 0 45 17.21 17.24 44.97 0 27.73l8.99-9 10.03 10.03L33.58 14.2l-6.99-6.99-3.62 3.63 1.29 1.29 1.23-1.23 2.33 2.33-4.04 4.04-6.54-6.72z"
              data-name="Layer 1" />
          </g>
        </svg>
      </a>
      <div class="site-name sr-only">
        <div class="site-title">
          <a href="/">{siteTitle}</a>
        </div>
        <div class="site-description">{siteDescription}</div>
      </div>
    </div>

    <nav id="nav" class="nav" aria-label="Primary Navigation">
      <ul id="primary-menu" class="menu" aria-expanded="false">
        {navItems.map((item) => (
          <li class="menu-item">
            <a 
              class="nav-link" 
              href={item.href}
              aria-current={currentPage === item.href ? "page" : undefined}
            >
              {item.label}
            </a>
          </li>
        ))}
      </ul>

      <button id="theme-toggle" aria-label="Switch to dark theme">
        <svg xmlns="http://www.w3.org/2000/svg" width="472.39" height="472.39" viewBox="0 0 472.39 472.39">
          <g class="toggle-sun">
            <path
              d="M403.21,167V69.18H305.38L236.2,0,167,69.18H69.18V167L0,236.2l69.18,69.18v97.83H167l69.18,69.18,69.18-69.18h97.83V305.38l69.18-69.18Zm-167,198.17a129,129,0,1,1,129-129A129,129,0,0,1,236.2,365.19Z" />
          </g>
          <g class="toggle-circle">
            <circle class="cls-1" cx="236.2" cy="236.2" r="103.78" />
          </g>
        </svg>
      </button>
    </nav>

    <button id="menu-toggle" class="menu-toggle header-icon" aria-controls="primary-menu" aria-expanded="false">
      <span class="screen-reader-text">Menu</span>
    </button>
  </div>
</header>
